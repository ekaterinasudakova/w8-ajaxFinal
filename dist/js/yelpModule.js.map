{"version":3,"sources":["yelpModule.js"],"names":["YelpModule","API_KEY","termEl","document","getElementById","locationEl","searchBtn","resultsEl","results","addEventListener","e","preventDefault","queryTerm","value","location","prices","getCheckedValues","querySelectorAll","console","log","searchYelp","resultContainer","querySelector","event","elClicked","target","title","getAttribute","TwitterApi","search","checkedItems","checkedValues","map","checkedItem","allChecked","join","displayArticle","article","name","thumbnail","image_url","url","liEl","createElement","linkEl","imgEl","pOneEl","pTwoEl","pThreeEl","button","pEl","createTextNode","href","src","innerHTML","address1","address2","price","rating","setAttribute","appendChild","push","lat","coordinates","latitude","lng","longitude","displayArticles","articleArray","length","i","tempArrayElement","options","searchParams","Object","assign","axios","get","params","headers","then","response","data","businesses"],"mappings":"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","file":"yelpModule.js","sourcesContent":["var YelpModule = (function(){\n\n\tconst API_KEY = \"2-eO6_aZS3e3d9Q35TFJ8OAyiFXsSS9X3jqYz_A2fMGZjwnckl6kDHcqJRuF-T261k7jC6qWLnEUIvi5-l-qw7JeHANXoNtnF3Y0VC02R-KJywyBqm5vI6TISGPiWnYx\";\n\n\tconst termEl = document.getElementById('term');\n\tconst locationEl = document.getElementById('location');\n\tconst searchBtn = document.getElementById('search');\n\tconst resultsEl = document.getElementById('results');\n\n\tconst results = [];\n\n\n\n\tsearchBtn.addEventListener('click', function(e){\n\t\te.preventDefault();\n\t\tconst queryTerm = termEl.value;\n\t\tconst location = locationEl.value;\n\t\tconst prices = getCheckedValues(document.querySelectorAll('[name=price]:checked'));\n\t\tconsole.log(`The business type you entered is: `, queryTerm);\n\t\tconsole.log(`The location you entered is: `, location);\n\n\t\tsearchYelp({\n\t\t\t'location': location,\n\t\t\t'term': queryTerm,\n\t\t\t'price': prices\n\t\t});\n\n    })\n\n\n    let resultContainer = document.querySelector('#results');\n\n\n    resultContainer.addEventListener('click', function(event){\n        var elClicked = event.target;\n        console.log(elClicked);\n        var title = elClicked.getAttribute('data-title');\n        TwitterApi.search(title);\n    });\n    \n\n\tfunction getCheckedValues(checkedItems){\n\t\tconsole.log('checkedItems', checkedItems)\n\n\n\t\tconst checkedValues = [...checkedItems].map(function(checkedItem){\n\t\t\treturn checkedItem.value;\n\t\t})\n\t\tconst allChecked = checkedValues.join(',');\n\t\tconsole.log('allChecked', allChecked)\n\n\t\treturn allChecked\n    }\n    \n\n//THIS IS WHERE YOU GRAB THE STUFF YOU NEED FROM THE INFORMATION YOU GRABBED FROM YELP\n//THIS IS ALSO WHERE YOU APPEND THE ELEMENTS TO THE PAGE\n\tfunction displayArticle(article){\n\t\tconsole.log(\"THIS\", article)\n\t\tconst title = article.name;\n\t\t// pick any kind of default fallback image\n\t\tlet thumbnail = article.image_url;\n\t\tconst url = article.url;\n\n\t\tconst liEl = document.createElement('li');\n\t\tconst linkEl = document.createElement('a');\n\t\tconst imgEl = document.createElement('img');\n\n\t\tconst pOneEl = document.createElement('p');\n\t\tconst pTwoEl = document.createElement('p');\n        const pThreeEl = document.createElement('p');\n        const button = document.createElement('button');\n\n\t\t\n\n\t\tconst pEl = document.createTextNode(title);\n\t\t//url\n\t\tlinkEl.href = url;\n\t\t//image\n\t\timgEl.src = thumbnail;\n\t\t//address\n\t\tpOneEl.innerHTML = article.location.address1 + \",\" + \"<br/>\" + article.location.address2;\n        //money\n        if(article.price){\n            pTwoEl.innerHTML = article.price;   \n        }\n\t\t//rating\n        pThreeEl.innerHTML = article.rating;\n        \n        button.innerHTML = \"search twitter\";\n        button.setAttribute('data-title', title);\n\n\t\tliEl.appendChild(linkEl);\n\t\tlinkEl.appendChild(pEl);\n\t\tliEl.appendChild(imgEl);\n\t\tliEl.appendChild(pOneEl);\n\t\tliEl.appendChild(pTwoEl);\n        liEl.appendChild(pThreeEl);\n        liEl.appendChild(button);\n\n\t\tresultsEl.appendChild(liEl);\n\n\t\tresults.push({\n\t\t\tlat: article.coordinates.latitude,\n\t\t\tlng: article.coordinates.longitude\n\t\t})\n\t}\n\n//THIS IS WHERE YOU LOOP THROUGH ALL YOUR RESULTS AND PULL OUT EACH RESULT TO THEN SEND\n//TO DIFFERENT FUNCTION TO FIND ALL NEEDED ELEMENTS AND APPEND THEM\n\tfunction displayArticles(articleArray) {\n\t\tconsole.log(\"HeyO\");\n\t\tconsole.log(articleArray.length);\n\t\tif (articleArray.length) {\n\t\t\tresultsEl.innerHTML = '';\n\t\t\tfor (var i = 0; i <= articleArray.length - 1; i++) {\n                var tempArrayElement = articleArray[i];\t\n                \t\t\n\t\t\t\tdisplayArticle(tempArrayElement);\n\t\t\t}\n\t\t\t// now add the new results\t\n\t\t\tconsole.log(\"Here I am\")\n\t\t}\t\n\t}\n\n\tfunction searchYelp(options){\n\t\tconst searchParams = Object.assign({}, options, {\n\t\t\t'_ep': '/businesses/search',\n\t\t})\n\t\tconsole.log('searchParams', searchParams)\n\n\t\taxios.get('https://circuslabs.net/proxies/yelp-fusion-proxy/', {\n  \t\t\tparams: searchParams,\n  \t\t\theaders: {\n  \t\t\t\t'Authorization': 'Bearer ' + API_KEY\n  \t\t\t}\n  \t\t})\n\t\t\n\t\t.then(function (response) {\n\t\t\tconsole.log('here is the response data from key:', response.data, response)\n\n            displayArticles(response.data.businesses);\n\t\t})\t\n\t}\n\n\t\treturn{\n\t\t\tsearch: searchYelp\n\t\t} \n\n})()"]}